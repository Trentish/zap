/* ===============================
   DEFAULT CSS CUSTOM PROPERTIES
   =============================== */
:root {
    /* Corp flip animation timing */
    --corp-flip-duration: 20s;
    --corp-flip-cascade-delay-step: 125ms;
    
    /* Corp card dimensions */
    --corp-card-height: 5vmin;
    --corp-card-border-radius: 0.5rem;
    
    /* Corp layout variables */
    --corp-container-padding: 0;
    --corp-block-padding: 1.5vmin;
    --corp-gap-between-blocks: 1vmin;
    --corp-gap-within-block: 1vmin;
    
    /* Corp component widths */
    --corp-symbol-width: 8vmin;
    --corp-price-width: 7vmin;
    --corp-trend-width: 2.5vmin;
    --corp-sparkline-height: 2.5vmin;
    
    /* Corp typography */
    --corp-font-family: "Helvetica Neue", "Helvetica", sans-serif;
    --corp-font-weight: bold;
    --corp-font-size: 2.5vmin;
    --corp-letter-spacing: normal;
    --corp-arrow-font-family: Monaco, "Courier New", monospace;
    
    /* Corp colors - text/stroke colors */
    --corp-color-trending-up: #4CAF50;     /* Green */
    --corp-color-trending-down: #F44336;   /* Red */
    --corp-color-neutral: #FFFFFF99;       /* White with transparency */
    
    /* Corp background colors */
    --corp-bg-neutral: #99999933;          /* Gray with transparency */
    --corp-bg-trending-up: #00FF3333;      /* Bright green with transparency */
    --corp-bg-trending-down: #CC000033;    /* Dark red with transparency */
}

/* ===============================
   CORP BLOCK BASE STYLES
   =============================== */

.corp-block {
    /* This can be overridden by specific game configs for grid placement */
    display: block;
}

/* ===============================
   CORP FLIP ANIMATION (CARDS)
   =============================== */

.corp-flip-container {
    display: grid;
    grid-template-columns: repeat(4, 1fr);
    grid-template-rows: 1fr;
    gap: var(--corp-gap-between-blocks);
    padding: var(--corp-container-padding);
    width: 100%;
    perspective: 1000px;
    min-height: var(--corp-card-height);
    align-items: stretch;
    align-self: start;
}

.corp-flip-card {
    position: relative;
    width: 100%;
    height: 100%;
    min-height: var(--corp-card-height);
    max-height: var(--corp-card-height);
}

.corp-flip-inner {
    position: relative;
    width: 100%;
    height: 100%;
    transform-style: preserve-3d;
    animation: flip-cycle var(--corp-flip-duration) infinite linear;
}

/* Cascade delays for each card */
.corp-flip-card-0 .corp-flip-inner {
    animation-delay: 0ms;
}

.corp-flip-card-1 .corp-flip-inner {
    animation-delay: var(--corp-flip-cascade-delay-step);
}

.corp-flip-card-2 .corp-flip-inner {
    animation-delay: calc(var(--corp-flip-cascade-delay-step) * 2);
}

.corp-flip-card-3 .corp-flip-inner {
    animation-delay: calc(var(--corp-flip-cascade-delay-step) * 3);
}

/* CSS Animation keyframes for continuous flipping */
@keyframes flip-cycle {
    0% { transform: rotateX(0deg); }
    48% { transform: rotateX(0deg); }
    50% { transform: rotateX(-180deg); }
    98% { transform: rotateX(-180deg); }
    100% { transform: rotateX(-360deg); }
}

.corp-flip-face {
    position: absolute;
    width: 100%;
    height: 100%;
    backface-visibility: hidden;
    border-radius: var(--corp-card-border-radius);
    overflow: hidden;
}

.corp-flip-front {
    z-index: 2;
}

.corp-flip-back {
    transform: rotateX(180deg);
}

.corp-flip-face .corp-sparkline-stat {
    height: 100%;
    box-sizing: border-box;
    display: flex;
    align-items: center;
}

/* ===============================
   CORP SPARKLINE COMPONENTS
   =============================== */

.corp-sparkline-stat {
    display: flex;
    align-items: center;
    gap: var(--corp-gap-within-block);
    padding: var(--corp-block-padding);
    font-family: var(--corp-font-family);
    font-weight: var(--corp-font-weight);
    font-size: var(--corp-font-size);
    letter-spacing: var(--corp-letter-spacing);
    background: var(--corp-bg-neutral);
    border-radius: var(--corp-card-border-radius);
    width: 100%;
    box-sizing: border-box;
}

.corp-label {
    width: var(--corp-symbol-width);
    text-align: left;
    flex-shrink: 0;
}

.corp-price {
    width: var(--corp-price-width);
    text-align: right;
    flex-shrink: 0;
    font-variant-numeric: tabular-nums;
}

.corp-trend {
    width: var(--corp-trend-width);
    text-align: center;
    flex-shrink: 0;
    font-size: 1em;
    line-height: 1;
    font-feature-settings: "kern" 0; /* Disable kerning */
    font-variant-numeric: normal;
    font-family: var(--corp-arrow-font-family);
    margin-bottom: 0.2em; /* Manual tweak for alignment */
}

.corp-sparkline-svg {
    flex: 1;
    height: var(--corp-sparkline-height);
    min-width: 0;
    max-width: calc(100% - var(--corp-symbol-width) - var(--corp-price-width) - var(--corp-trend-width) - (3 * var(--corp-gap-within-block)));
}

/* Trend-based styling */
.corp-sparkline-stat.trending-up {
    background: var(--corp-bg-trending-up);
}

.corp-sparkline-stat.trending-up .corp-trend {
    color: var(--corp-color-trending-up);
}

.corp-sparkline-stat.trending-up .corp-sparkline-svg polyline {
    stroke: var(--corp-color-trending-up);
}

.corp-sparkline-stat.trending-down {
    background: var(--corp-bg-trending-down);
}

.corp-sparkline-stat.trending-down .corp-trend {
    color: var(--corp-color-trending-down);
}

.corp-sparkline-stat.trending-down .corp-sparkline-svg polyline {
    stroke: var(--corp-color-trending-down);
}

.corp-sparkline-stat.no-trend {
    background: var(--corp-bg-neutral);
}

.corp-sparkline-stat.no-trend .corp-trend {
    color: var(--corp-color-neutral);
}

.corp-sparkline-stat.no-trend .corp-sparkline-svg polyline {
    stroke: var(--corp-color-neutral);
}
